<link rel="import" href="../bower_components/polymer/polymer.html">
<polymer-element name="labeli-project" on-click="click">
	<template>
		<style>
			:host
			{
				display : block;
				/*box-shadow : 0px 1px 3px rgba(0,0,0,0.2);*/
				margin : 1px;
				flex-grow : 1;
				flex-shrink : 0;
				flex-basis : 240px;
				box-sizing: border-box;
				overflow: hidden;
				cursor : pointer;
				background-color: #232323;
				border : 2px solid #232323;
				color : #afbfff;
			}
			:host([big])
			{
				max-width: 1000px;
				margin : 10px auto;
			}
			:host([big]) #description
			{
				padding : 10px;
				display : block;
			}
			#description
			{
				display : none;
				color : white;
			}
			h2
			{
				font-size : 1em;
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
				margin : 3px 0px;
				font-weight: 700;
			}
			#imgbox
			{
				height : 100px;
				overflow :hidden;
				background-image : url('http://labeli.org/images/background.png');
			}
			.info
			{
				border-bottom : 5px solid #6889ff;
				padding : 10px;
				padding-bottom : 5px;
				margin-bottom : 0px;
			}
		</style>
		
		<template bind if="{{project.picture}}">
			<div id="imgbox" style="background-image : url('http://labeli.org/{{project.picture}}'); background-size: cover;"></div>
		</template>
		<template bind if="{{project.picture == ''}}">
			<div id="imgbox"></div>
		</template>
		
		<div class="info">
			<h2>{{project.name}}</h2>
			Par <author>{{project.author.firstName}} {{project.author.lastName}}</author>
			<desrciption id="description"></desrciption>
		</div>
	</template>
	
	<script>
		Polymer({
			project : {},
			publish : 
			{
				big : false,
			},
			projectChanged : function()
			{
				this.$.description.innerHTML = this.project.description;
			},
			click : function()
			{
				var project = document.querySelector("#section-project labeli-project");
				project.project = this.project;

				router.go("project", {id : this.project.id});
			}
		});
	</script>
</polymer-element>